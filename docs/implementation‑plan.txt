# implementation‑plan.txt

## Phase 1 · Repo & Continuous Integration

```
/docs/                          ← planning docs (.txt)
/src/                           ← React + plotly.js application code
    ├─ components/
    ├─ graphs/                  ← JS/TS ternary plot modules
    └─ pages/
/python‑svc/                    ← FastAPI micro‑service (data APIs only)
/legacy/                        ← ORIGINAL Dash app & helpers (read‑only reference)
/data/oewg_analysis_dash.db          ← SQLite database (read‑only)
```

* Commit 0 → push skeleton above so Lovable auto‑initialises build.
* Commit 1 → add Python service code and `oewg_analysis_dash.db`.
* Commit 2 → add Dash source files into `/legacy/` for posterity.

## Phase 2 · API Micro‑service

* **Tech**: FastAPI + Poetry; running in its own Lovable Python runtime.
* **Key endpoints** (all return CORS‑enabled JSON):

  * `GET /figure/ternary/{sessionId}` → **Plotly trace arrays** (x/y/z, text, marker styles) ready for `react‑plotly.js`.
  * `GET /search?q=` → ranked comment snippets.
  * `GET /keyword/{term}` → speaker list, counts, context lines.
* Python continues to perform centroid & n‑gram maths; front‑end focuses purely on display.

## Phase 3 · Front‑end Integration

* Fetch endpoints with React Query (`staleTime = 600000`).
* Render ternaries with `react‑plotly.js` using trace arrays from API.
* Tabbed interface: **Bloc Analytics** ⇄ **Keyword Details** (details open in new tab, chart keeps state).

## Phase 4 · Content, Auth & Admin

* Pages: Entry Hub, About, How‑To, Admin.
* Simple username/password login → JWT stored in `localStorage`.
* Admin dashboard: upload replacement `oewg_analysis_dash.db`, trigger server‑side rebuild script.

## Phase 5 · QA & Deployment

* Cross‑device testing (375 px → 1280 px).
* Accessibility audit (contrast ≥ 4.5 : 1, keyboard nav).
* Deploy: Lovable Node front‑end, Lovable Python micro‑service; CORS enabled between the two.

## Team & Ownership

* **You** – sole human maintainer.
* **Lovable** – automated coding assistant guided by these `/docs/*.txt` files.
